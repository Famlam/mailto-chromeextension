"use strict";var a=function(h){var c,f="",g=h.target,d=/^mailto\:(\/\/)?/i;if(h.type==="click"){while(!g.href&&g.parentNode){g=g.parentNode;}f=g.href;}else{if(g.action){f=g.action;if(g.method!=="post"){f=f.replace(/\?.*$/,"");}for(c=0;c<g.length;c++){var b=g[c];if(b.name&&b.value&&!b.disabled&&!((b.type==="checkbox"||b.type==="radio")&&!b.checked)){f+="&"+encodeURIComponent(b.name)+"="+encodeURIComponent(b.value);}}}}if(!f||!d.test(f)){return;}f=f.replace(d,"");chrome.extension.sendMessage(f,function(e){if(e===-1){location.replace("mailto:"+f);}else{if(e){window.open(e);}}});h.preventDefault();};document.addEventListener("submit",a,false);document.addEventListener("click",a,false);