var a=function(e){var i;var b="";var c=e.target;if(e.type==="click"){while(!c.href&&c.parentNode){c=c.parentNode}b=c.href}else if(c.action){b=c.action;if(c.method!=="post"){b=b.replace(/\?.*$/,"")}for(i=0;i<c.length;i++){if(c[i].name&&c[i].value&&!c[i].disabled&&!((c[i].type==="checkbox"||c[i].type==="radio")&&!c[i].checked)){b+="&"+window.encodeURIComponent(c[i].name)+"="+window.encodeURIComponent(c[i].value)}}}var d=/^mailto\:(\/\/)?/i;if(!b||!d.test(b)){return}b=b.replace(d,'');chrome.extension.sendRequest(b,function(a){if(a){window.open(a)}});e.preventDefault()};window.document.addEventListener("submit",a);window.document.addEventListener("click",a);